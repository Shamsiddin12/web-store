<!DOCTYPE html>
<html lang="en">
<head th:replace="~{admin/commons::head}"></head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">

    <!-- Navbar -->
    <div th:replace="~{admin/commons::header}"></div>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside th:replace="~{admin/commons::aside}"></aside>

    <!-- Content Wrapper. Contains page content -->
    <!-- /.content-wrapper -->
    <div class="content-wrapper py-2">
        <div class="container">
            <h3 class="text-center">Category List</h3>
            <a name="" class="btn btn-primary" th:href="@{/admin/data/category/add}" role="button">Add category</a>
            <table class="table table-bordered table-inverse mt-3 table-responsive-sm">
                <thead class="thead-inverse">
                <thead class="thead-inverse mt-3 ">
                <tr>
                    <th>ID</th>
                    <th>NAME</th>
                    <th>STATUS</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item: ${categories}">
                    <td scope="row" th:text="${item.categoryId}"></td>
                    <td th:text="${item.categoryName}"></td>

                    <td th:text="${item.isActive} ? ACTIVE : PASSIVE"></td>

                    <td>
                        <a name="" id="" class="btn btn-primary" href="#"
                           th:href="@{/admin/data/category/edit(id=${item.categoryId})}" role="button">
                            <i class="fa fa-pen" aria-hidden="true"></i>
                        </a>
                        <button type="button" class="btn btn-danger" data-toggle="modal"
                                th:data-target="${'#id'+item.categoryId}">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                        </button>

                    </td>
                    <div class="modal fade" th:attr="id='id' + ${item.categoryId}"
                         tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">O'chrish</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>


                                <div class="modal-body">
                                   <h5> Are you sure you want to delete category <span class="alert-danger" th:text="${item.categoryName}"></span> ? </h5>
                                </div>




                                <div class="modal-body">
                                   <small>  <span style="font-weight: bold;"> If there are no products </span> in this category, the category will be completely deleted.</small>
                                </div>

                                <div class="modal-body">
                                 <small>   <span style="font-weight: bold;"> If there are products </span> in this category, the category will not be deleted and the status of the category will be changed to 'passive'. </small>
                                </div>



                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <a th:href="@{'/admin/data/category/delete/' + ${item.categoryId}}" type="button"
                                       class="btn btn-danger">O'chirish</a>
                                </div>



                            </div>
                        </div>
                    </div>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Main Footer -->
    <footer th:replace="~{admin/commons::footer}"></footer>
</div>

</div>
<th:block th:replace="~{admin/commons::scripts}"></th:block>
</body>
</html>
